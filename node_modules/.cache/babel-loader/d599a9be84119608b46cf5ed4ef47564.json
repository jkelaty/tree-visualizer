{"ast":null,"code":"var _jsxFileName = \"C:\\\\Users\\\\Jonathan Kelaty\\\\Desktop\\\\TreeVisualizer\\\\tree-visualizer\\\\src\\\\TreeVisualizer\\\\Trees\\\\BinarySearchTree\\\\BinarySearchTree.jsx\";\nimport React from 'react';\nimport $ from 'jquery';\nimport DefaultTree from '../DefaultTree/DefaultTree.jsx';\nimport Queue from '../../Additional/Queue.js';\nimport { randomIntFromInverval } from '../../Additional/Helpers.js';\nimport './BinarySearchTree.scss';\n\nclass BinarySearchTreeNode {\n  constructor(val) {\n    this.value = val;\n    this.left = null;\n    this.right = null;\n  }\n\n}\n\nexport default class BinarySearchTree extends DefaultTree {\n  constructor() {\n    super();\n    this.name = 'BinarySearchTree';\n    this.key = 'BST';\n    this.root = null;\n    this.addListeners();\n  }\n\n  addListeners() {\n    let _this = this;\n\n    $(document).on('preRender', '#' + this.name, function (e, operation) {\n      _this.preRender(operation);\n    });\n    $(document).on('postRender', '#' + this.name, function (e, operation) {\n      _this.postRender(operation);\n    });\n  }\n\n  performOperation(operation) {\n    switch (operation) {\n      case 'Generate':\n        this.generate();\n        break;\n\n      case 'Reset':\n        this.reset();\n        break;\n\n      case 'Search':\n        break;\n\n      default:\n        break;\n    }\n  }\n\n  preRender(operation) {\n    switch (operation) {\n      case 'Generate':\n      case 'Reset':\n        hideNodes(operation);\n        break;\n\n      case 'Search':\n        break;\n\n      default:\n        break;\n    }\n  }\n\n  postRender(operation) {\n    switch (operation) {\n      case 'Generate':\n        showNodes(operation);\n        break;\n\n      case 'Search':\n        break;\n\n      default:\n        break;\n    }\n  }\n\n  generate(elements = 5) {\n    this.reset();\n\n    for (let i = 0; i < elements; ++i) {\n      this.insert(randomIntFromInverval(1, 200));\n    }\n  }\n\n  reset() {\n    this.root = null;\n  }\n\n  height(node = this.root) {\n    if (node == null) return 0;\n    return Math.max(this.height(node.left), this.height(node.right)) + 1;\n  }\n\n  insert(val) {\n    if (this.root == null) {\n      this.root = new BinarySearchTreeNode(val);\n      return true;\n    }\n\n    let curr = this.root;\n\n    while (true) {\n      if (curr.value < val) {\n        if (curr.right == null) {\n          curr.right = new BinarySearchTreeNode(val);\n          break;\n        }\n\n        curr = curr.right;\n      } else {\n        if (curr.left == null) {\n          curr.left = new BinarySearchTreeNode(val);\n          break;\n        }\n\n        curr = curr.left;\n      }\n    }\n  }\n\n  getScaleFactor() {\n    let scale_factor = (window.innerWidth - 20) / (Math.pow(2, this.height() - 1) * 70);\n    return 'scale(' + (scale_factor > 1 ? 1 : scale_factor) + ')';\n  }\n\n  Tree(node = this.root, tree_height = this.height(), curr_height = 0, pos = 'root') {\n    if (curr_height === tree_height) return null;\n    const leftChild = this.Tree(node ? node.left : null, tree_height, curr_height + 1, 'left');\n    const rightChild = this.Tree(node ? node.right : null, tree_height, curr_height + 1, 'right');\n    let classes = ['node-wrapper', pos].join(' ');\n\n    if (node == null) {\n      return React.createElement(React.Fragment, null, React.createElement(\"div\", {\n        className: classes,\n        \"node-value\": \"null\",\n        \"node-layer\": tree_height - curr_height,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 133\n        },\n        __self: this\n      }, React.createElement(\"div\", {\n        className: \"node-value\",\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 138\n        },\n        __self: this\n      }, getCricle('null')), leftChild, rightChild));\n    } else if (node === this.root) {\n      return React.createElement(React.Fragment, null, React.createElement(\"div\", {\n        className: classes,\n        \"node-value\": node.value,\n        \"node-layer\": tree_height - curr_height,\n        style: {\n          width: Math.pow(2, tree_height - 1) * 70 + 'px'\n        },\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 151\n        },\n        __self: this\n      }, React.createElement(\"div\", {\n        className: \"node-value\",\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 157\n        },\n        __self: this\n      }, React.createElement(\"span\", {\n        className: \"node-hover\",\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 158\n        },\n        __self: this\n      }, \"HOVER\"), getCricle(node.value)), leftChild, rightChild));\n    } else {\n      return React.createElement(React.Fragment, null, React.createElement(\"div\", {\n        className: classes,\n        \"node-value\": node.value,\n        \"node-layer\": tree_height - curr_height,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 172\n        },\n        __self: this\n      }, React.createElement(\"div\", {\n        className: \"node-value\",\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 177\n        },\n        __self: this\n      }, React.createElement(\"span\", {\n        className: \"node-hover\",\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 178\n        },\n        __self: this\n      }, \"HOVER\"), getCricle(node.value)), leftChild, rightChild, getConnectingLine(pos)));\n    }\n  }\n\n}\n\nfunction getCricle(val) {\n  return React.createElement(React.Fragment, null, React.createElement(\"svg\", {\n    className: \"circle node-value-circle\",\n    xmlns: \"http://www.w3.org/2000/svg\",\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 196\n    },\n    __self: this\n  }, React.createElement(\"text\", {\n    className: \"text node-value-text\",\n    x: \"50%\",\n    y: \"50%\",\n    fill: \"black\",\n    textAnchor: \"middle\",\n    dominantBaseline: \"central\",\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 197\n    },\n    __self: this\n  }, val), React.createElement(\"circle\", {\n    className: \"circle node-circle\",\n    r: \"24\",\n    cx: \"25\",\n    cy: \"25\",\n    stroke: \"black\",\n    fill: \"none\",\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 200\n    },\n    __self: this\n  })));\n}\n\nfunction getConnectingLine(pos) {\n  if (pos === 'left') {\n    return React.createElement(React.Fragment, null, React.createElement(\"svg\", {\n      className: \"line node-line\",\n      xmlns: \"http://www.w3.org/2000/svg\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 210\n      },\n      __self: this\n    }, React.createElement(\"line\", {\n      className: \"line\",\n      x1: \"0\",\n      y1: \"50\",\n      x2: \"100%\",\n      y2: \"0\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 211\n      },\n      __self: this\n    })));\n  } else if (pos === 'right') {\n    return React.createElement(React.Fragment, null, React.createElement(\"svg\", {\n      className: \"line node-line\",\n      xmlns: \"http://www.w3.org/2000/svg\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 219\n      },\n      __self: this\n    }, React.createElement(\"line\", {\n      className: \"line\",\n      x1: \"0\",\n      y1: \"0\",\n      x2: \"100%\",\n      y2: \"50\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 220\n      },\n      __self: this\n    })));\n  } else {\n    return null;\n  }\n}\n\nfunction showNodes(operation) {\n  let queue = new Queue();\n  queue.push($('.node-wrapper:not([node-value=\"null\"]):not(.visible)').first());\n  setTimeout(function () {\n    showNodesHelper(queue);\n  }, 300);\n}\n\nfunction showNodesHelper(queue) {\n  if (!queue.empty()) {\n    let $_node = queue.front();\n    $_node.addClass('visible');\n    $_node.children('.node-wrapper:not([node-value=\"null\"])').each(function () {\n      queue.push($(this));\n    });\n    setTimeout(function () {\n      showNodesHelper(queue);\n    }, 300);\n  }\n}\n\nfunction hideNodes(operation) {\n  let $nodes = $('.node-wrapper');\n\n  if ($nodes.length > 0) {\n    $('.node-wrapper').removeClass('visible');\n    setTimeout(function () {\n      $('.tree').trigger('Render', operation);\n    }, 1000);\n  } else {\n    $('.tree').trigger('Render', operation);\n  }\n}\n\nfunction searchForNode(val, operation) {}","map":{"version":3,"sources":["C:/Users/Jonathan Kelaty/Desktop/TreeVisualizer/tree-visualizer/src/TreeVisualizer/Trees/BinarySearchTree/BinarySearchTree.jsx"],"names":["React","$","DefaultTree","Queue","randomIntFromInverval","BinarySearchTreeNode","constructor","val","value","left","right","BinarySearchTree","name","key","root","addListeners","_this","document","on","e","operation","preRender","postRender","performOperation","generate","reset","hideNodes","showNodes","elements","i","insert","height","node","Math","max","curr","getScaleFactor","scale_factor","window","innerWidth","pow","Tree","tree_height","curr_height","pos","leftChild","rightChild","classes","join","getCricle","width","getConnectingLine","queue","push","first","setTimeout","showNodesHelper","empty","$_node","front","addClass","children","each","$nodes","length","removeClass","trigger","searchForNode"],"mappings":"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","sourcesContent":["import React from 'react';\r\nimport $ from 'jquery'\r\n\r\nimport DefaultTree from '../DefaultTree/DefaultTree.jsx'\r\nimport Queue from '../../Additional/Queue.js'\r\n\r\nimport { randomIntFromInverval } from '../../Additional/Helpers.js'\r\n\r\nimport './BinarySearchTree.scss'\r\n\r\nclass BinarySearchTreeNode {\r\n    constructor(val) {\r\n        this.value = val;\r\n        this.left  = null;\r\n        this.right = null;\r\n    }\r\n}\r\n\r\nexport default class BinarySearchTree extends DefaultTree {\r\n    constructor() {\r\n        super();\r\n\r\n        this.name = 'BinarySearchTree';\r\n        this.key  = 'BST';\r\n        this.root = null;\r\n\r\n        this.addListeners();\r\n    }\r\n\r\n    addListeners() {\r\n        let _this = this;\r\n\r\n        $(document).on('preRender',  '#' + this.name, function(e, operation) {  _this.preRender(operation);  });\r\n        $(document).on('postRender', '#' + this.name, function(e, operation) {  _this.postRender(operation); });\r\n    }\r\n\r\n    performOperation(operation) {\r\n        switch ( operation ) {\r\n            case 'Generate':\r\n                this.generate();\r\n                break;\r\n            case 'Reset': this.reset();\r\n                break;\r\n            case 'Search':\r\n                break;\r\n            default:\r\n                break;\r\n        }\r\n    }\r\n\r\n    preRender(operation) {\r\n        switch ( operation ) {\r\n            case 'Generate':\r\n            case 'Reset': hideNodes(operation);\r\n                break;\r\n            case 'Search':\r\n                break;\r\n            default:\r\n                break;\r\n        }\r\n    }\r\n\r\n    postRender(operation) {\r\n        switch ( operation ) {\r\n            case 'Generate': showNodes(operation);\r\n                break;\r\n            case 'Search':\r\n                break;\r\n            default:\r\n                break;\r\n        }\r\n    }\r\n\r\n    generate(elements = 5) {\r\n        this.reset();\r\n        \r\n        for (let i = 0; i < elements; ++i) {\r\n            this.insert( randomIntFromInverval(1, 200) );\r\n        }\r\n    }\r\n\r\n    reset() {\r\n        this.root = null;\r\n    }\r\n\r\n    height(node = this.root) {\r\n        if (node == null) return 0;\r\n        return Math.max( this.height(node.left), this.height(node.right) ) + 1;\r\n    }\r\n\r\n    insert(val) {\r\n        if (this.root == null) {\r\n            this.root = new BinarySearchTreeNode(val);\r\n            return true;\r\n        }\r\n        \r\n        let curr = this.root;\r\n\r\n        while (true) {\r\n            if (curr.value < val) {\r\n                if(curr.right == null) {\r\n                    curr.right = new BinarySearchTreeNode(val);\r\n                    break;\r\n                }\r\n                curr = curr.right;\r\n            }\r\n            else {\r\n                if(curr.left == null) {\r\n                    curr.left = new BinarySearchTreeNode(val);\r\n                    break;\r\n                }\r\n                curr = curr.left;\r\n            }\r\n        }\r\n    }\r\n\r\n    getScaleFactor() {\r\n        let scale_factor = (window.innerWidth - 20) / ( Math.pow(2, this.height() - 1) * 70 );\r\n        return 'scale(' + (scale_factor > 1 ? 1 : scale_factor) + ')';\r\n    }\r\n\r\n    Tree(node = this.root, tree_height = this.height(), curr_height = 0, pos = 'root') {\r\n        if (curr_height === tree_height) return null;\r\n\r\n        const leftChild  = this.Tree(node ? node.left  : null, tree_height, curr_height + 1, 'left' );\r\n        const rightChild = this.Tree(node ? node.right : null, tree_height, curr_height + 1, 'right');\r\n        \r\n        let classes = ['node-wrapper', pos].join(' ');\r\n\r\n        if ( node == null ) {\r\n            return (\r\n                <>\r\n                    <div\r\n                        className={classes}\r\n                        node-value='null'\r\n                        node-layer={tree_height - curr_height}>\r\n\r\n                            <div className='node-value'>\r\n                                {getCricle('null')}\r\n                            </div>\r\n\r\n                            {leftChild}\r\n                            {rightChild}\r\n                    </div>\r\n                </>\r\n            );\r\n        }\r\n        else if ( node === this.root ) {\r\n            return (\r\n                <>\r\n                    <div\r\n                        className={classes}\r\n                        node-value={node.value}\r\n                        node-layer={tree_height - curr_height}\r\n                        style={ {width: Math.pow(2, tree_height - 1) * 70 + 'px'} }>\r\n\r\n                            <div className='node-value'>\r\n                                <span className='node-hover'>HOVER</span>\r\n                                {getCricle(node.value)}\r\n                            </div>\r\n\r\n                            {leftChild}\r\n                            {rightChild}\r\n\r\n                    </div>\r\n                </>\r\n            );\r\n        }\r\n        else {\r\n            return (\r\n                <>\r\n                    <div\r\n                        className={classes}\r\n                        node-value={node.value}\r\n                        node-layer={tree_height - curr_height}>\r\n\r\n                            <div className='node-value'>\r\n                                <span className='node-hover'>HOVER</span>\r\n                                {getCricle(node.value)}\r\n                            </div>\r\n                            \r\n                            {leftChild}\r\n                            {rightChild}\r\n                            {getConnectingLine(pos)}\r\n                            \r\n                    </div>\r\n                </>\r\n            );\r\n        }\r\n    }\r\n}\r\n\r\nfunction getCricle(val) {\r\n    return (\r\n        <>\r\n            <svg className='circle node-value-circle' xmlns='http://www.w3.org/2000/svg'>\r\n                <text className='text node-value-text' x='50%' y='50%' fill='black' textAnchor='middle' dominantBaseline='central'>\r\n                    {val}\r\n                </text>\r\n                <circle className='circle node-circle' r='24' cx='25' cy='25' stroke='black' fill='none' />\r\n            </svg>\r\n        </>\r\n    );\r\n}\r\n\r\nfunction getConnectingLine(pos) {\r\n    if (pos === 'left') {\r\n        return (\r\n            <>\r\n                <svg className='line node-line' xmlns='http://www.w3.org/2000/svg'>\r\n                    <line className='line' x1='0' y1='50' x2='100%' y2='0'></line>\r\n                </svg>\r\n            </>\r\n        );\r\n    }\r\n    else if (pos === 'right') {\r\n        return (\r\n            <>\r\n                <svg className='line node-line' xmlns='http://www.w3.org/2000/svg'>\r\n                    <line className='line' x1='0' y1='0' x2='100%' y2='50'></line>\r\n                </svg>\r\n            </>\r\n        );\r\n    }\r\n    else {\r\n        return null;\r\n    }\r\n}\r\n\r\nfunction showNodes(operation) {\r\n    let queue = new Queue();\r\n    queue.push( $('.node-wrapper:not([node-value=\"null\"]):not(.visible)').first() );\r\n    setTimeout(function(){showNodesHelper(queue);}, 300);\r\n}\r\n\r\nfunction showNodesHelper(queue) {\r\n    if ( !queue.empty() ) {\r\n        let $_node = queue.front();\r\n        $_node.addClass('visible');\r\n        $_node.children('.node-wrapper:not([node-value=\"null\"])').each(function() {\r\n           queue.push( $(this) ); \r\n        });\r\n        setTimeout(function(){showNodesHelper(queue);}, 300);\r\n    }\r\n}\r\n\r\nfunction hideNodes(operation) {\r\n    let $nodes = $('.node-wrapper');\r\n\r\n    if( $nodes.length > 0 ) {\r\n        $('.node-wrapper').removeClass('visible');\r\n\r\n        setTimeout(function() {\r\n            $('.tree').trigger('Render', operation);\r\n        }, 1000);\r\n    }\r\n    else {\r\n        $('.tree').trigger('Render', operation);\r\n    }\r\n}\r\n\r\nfunction searchForNode(val, operation) {\r\n\r\n}"]},"metadata":{},"sourceType":"module"}